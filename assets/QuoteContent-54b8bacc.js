import{o as s,c as l,n as x,a as t,_ as T,P as H,b as I,d as L,w as y,l as V,u as j,f as N,e as U,p as m,g as v,t as d,q as A,v as z,k as g,i as f,F as M,r as O}from"./index-d66269e8.js";const R=["fill"],G={__name:"HeartIcon",props:{isFavorite:{type:Boolean,default:!1}},emits:["toggle"],setup(o){return(e,i)=>(s(),l("div",{class:"mr-2 cursor-pointer",onClick:i[0]||(i[0]=c=>e.$emit("toggle"))},[(s(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:x(["h-5 w-5 transition-colors",o.isFavorite?"text-red-500":"text-gray-400 hover:text-red-500"]),viewBox:"0 0 20 20",fill:o.isFavorite?"currentColor":"none",stroke:"currentColor","stroke-width":"2"},i[1]||(i[1]=[t("path",{d:"M3.172 5.172a4.004 4.004 0 015.656 0L10 6.343l1.172-1.171a4.004 4.004 0 115.656 5.656L10 17.657l-6.828-6.829a4.004 4.004 0 010-5.656z"},null,-1)]),10,R))]))}},J="/Expclip/icons/highlight.svg",K={components:{Popover:H},props:{color:String},methods:{emitColor(o){this.$emit("changeColor",o),console.log(o)}}},W={class:"p-3"},X={class:"flex flex-wrap justify-between gap-2"};function Y(o,e,i,c,k,r){const u=I("Popover");return s(),L(u,{position:"right"},{trigger:y(()=>[t("button",{class:x(`h-5 w-5 bg-${i.color}-300 focus:outline-none`)},null,2)]),default:y(()=>[t("div",W,[e[8]||(e[8]=t("div",{class:"text-gray-800 mb-2"},[t("img",{src:J,class:"w-5 h-5 inline-block mr-1",alt:"Highlight"}),V(" Highlight Color ")],-1)),t("div",X,[t("div",{class:"h-5 w-5 border-yellow-500 bg-yellow-300 cursor-pointer",onClick:e[0]||(e[0]=n=>r.emitColor("yellow"))}),t("div",{class:"h-5 w-5 border-red-500 bg-red-300 cursor-pointer",onClick:e[1]||(e[1]=n=>r.emitColor("red"))}),t("div",{class:"h-5 w-5 border-pink-500 bg-pink-300 cursor-pointer",onClick:e[2]||(e[2]=n=>r.emitColor("pink"))}),t("div",{class:"h-5 w-5 border-blue-500 bg-blue-300 cursor-pointer",onClick:e[3]||(e[3]=n=>r.emitColor("blue"))}),t("div",{class:"h-5 w-5 border-green-500 bg-green-300 cursor-pointer",onClick:e[4]||(e[4]=n=>r.emitColor("green"))}),t("div",{class:"h-5 w-5 border-orange-500 bg-orange-300 cursor-pointer",onClick:e[5]||(e[5]=n=>r.emitColor("orange"))}),t("div",{class:"h-5 w-5 border-gray-500 bg-gray-300 cursor-pointer",onClick:e[6]||(e[6]=n=>r.emitColor("gray"))}),t("div",{class:"h-5 w-5 border-purple-500 bg-purple-300 cursor-pointer",onClick:e[7]||(e[7]=n=>r.emitColor("purple"))})])])]),_:1})}const Z=T(K,[["render",Y]]),ee={key:0},te={class:"text-lg mb-4 leading-relaxed"},oe={key:1,class:"mb-4"},re={class:"flex justify-between"},se={class:"ml-2 text-sm text-gray-600"},le={key:0,class:"text-sm text-gray-500"},ne={key:1,class:"ml-2 text-sm text-gray-500"},ae={class:"ml-2 text-sm text-gray-500"},ie={class:"flex justify-between mt-2 items-start"},ue={class:"flex items-center space-x-2"},de={key:0,class:"flex flex-wrap gap-1"},ce={class:"flex space-x-2 text-[14px]"},ve={__name:"QuoteContent",props:{quote:{type:Object,required:!0}},setup(o){const e=o,i=j(),c=N(),k=U(),r=m(!1),u=m(""),n=m(e.quote.color||"yellow"),h=v(()=>k.getBookById(e.quote.bookId)),C=v(()=>{var a;return((a=h.value)==null?void 0:a.title)||"Unknown Book"}),w=v(()=>{var a;return((a=h.value)==null?void 0:a.author)||"Unknown Author"}),q=v(()=>`border-${n.value}-400`),$=v(()=>`bg-${n.value}-50`),B=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),_=()=>{c.toggleFavorite(e.quote.id)},P=a=>{n.value=a,c.updateQuote(e.quote.id,{color:a})},S=()=>{r.value=!0,u.value=e.quote.text},E=()=>{c.updateQuote(e.quote.id,{text:u.value}),r.value=!1},F=()=>{r.value=!1,u.value=""},D=()=>{confirm("Are you sure you want to delete this quote?")&&c.deleteQuote(e.quote.id)},Q=()=>{e.quote.bookId&&i.push(`/books/${e.quote.bookId}`)};return(a,p)=>(s(),l("div",{class:x(`p-6 border-l-4 ${$.value} ${q.value}`)},[r.value?(s(),l("div",oe,[A(t("textarea",{"onUpdate:modelValue":p[0]||(p[0]=b=>u.value=b),placeholder:"Enter quote",class:"w-full p-2 border rounded text-lg"},null,512),[[z,u.value]])])):(s(),l("div",ee,[t("p",te,d(o.quote.text),1)])),t("div",re,[t("div",null,[t("span",{onClick:Q,class:"font-semibold text-gray-800 cursor-pointer hover:text-violet-600 hover:underline"},d(C.value),1),t("span",se,d(w.value),1)]),t("div",null,[o.quote.page?(s(),l("span",le,"Page "+d(o.quote.page),1)):g("",!0),o.quote.location?(s(),l("span",ne,"Location "+d(o.quote.location),1)):g("",!0),t("span",ae,d(B(o.quote.dateHighlighted)),1)])]),t("div",ie,[t("div",ue,[f(G,{"is-favorite":o.quote.isFavorite,onToggle:_},null,8,["is-favorite"]),f(Z,{color:n.value,onChangeColor:P},null,8,["color"]),o.quote.tags&&o.quote.tags.length>0?(s(),l("div",de,[(s(!0),l(M,null,O(o.quote.tags,b=>(s(),l("span",{key:b,class:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full"},d(b),1))),128))])):g("",!0)]),t("div",ce,[r.value?g("",!0):(s(),l("button",{key:0,onClick:S,class:"bg-white border border-customPurple-400 hover:bg-customPurple-400 text-customPurple-900 px-3 py-1 rounded"}," Edit ")),r.value?(s(),l("button",{key:1,onClick:E,class:"bg-blue-200 text-blue-800 hover:bg-blue-300 px-3 py-1 rounded"}," Save ")):g("",!0),r.value?(s(),l("button",{key:2,onClick:F,class:"bg-gray-200 text-gray-800 hover:bg-gray-300 px-3 py-1 rounded"}," Cancel ")):g("",!0),t("button",{onClick:D,class:"bg-red-200 text-red-800 hover:bg-red-400 hover:text-red-900 px-3 py-1 rounded"}," Delete ")])])],2))}};export{ve as _};
